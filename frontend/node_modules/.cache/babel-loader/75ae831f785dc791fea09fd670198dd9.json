{"ast":null,"code":"var _jsxFileName = \"/home/albert/Desktop/vsworkspace/CVWO/winter-session-assignment/frontend/src/components/LoginForm.js\";\nimport React, { ChangeEvent, useState } from 'react';\nimport Typewriter from 'typewriter-effect';\nimport { Button } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.guest_login = () => {\n      axios.post('http://localhost:8080/login', {\n        body: this.state.profile.username + \",\" + this.state.profile.password\n      }, {\n        headers: {\n          'Content-Type': 'text/plain'\n        }\n      }).then(function (response) {\n        if (response.data === \"Invalid credentials\") {\n          alert(\"Username or password is incorrect\");\n        } else if (response.data === \"User does not exist\") {\n          alert(\"User is not registered\");\n        } else {\n          localStorage.setItem('ssid', response.data);\n          window.location.href = \"/view_month\";\n        }\n      }).catch(function (error) {});\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const instance = axios.create({\n        baseURL: 'https://localhost:8080/login',\n        timeout: 1000,\n        headers: {\n          'Content-Type': 'text/plain'\n        },\n        body: this.state.profile.username + ',' + this.state.profile.password\n      });\n      const response = axios.text();\n\n      if (response === \"Invalid credentials\") {\n        alert(\"Username or password is incorrect\");\n      } else if (response === \"User does not exist\") {\n        alert(\"User is not registered\");\n      } else {\n        localStorage.setItem('ssid', response);\n        window.location.href(\"/view_month\");\n      }\n    };\n\n    this.state = {\n      profile: {}\n    };\n    this.handleUsernameChange = this.handleUsernameChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n  }\n\n  handleUsernameChange(e) {\n    this.setState((state, props) => {\n      let profile = state.profile;\n      profile.username = e.target.value;\n      return {\n        profile: profile\n      };\n    });\n  }\n\n  handlePasswordChange(e) {\n    this.setState((state, props) => {\n      let profile = state.profile;\n      profile.password = e.target.value;\n      return {\n        profile: profile\n      };\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"loginForm\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => this.onSubmit(e),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"username\",\n          children: \" Username \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          name: \"Username\",\n          placeholder: \"Enter username\",\n          value: this.state.profile.username,\n          onChange: this.handleUsernameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"password\",\n          children: \" Password \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"password\",\n          name: \"Password\",\n          placeholder: \"Enter password\",\n          value: this.state.profile.password,\n          onChange: this.handlePasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default LoginForm;","map":{"version":3,"sources":["/home/albert/Desktop/vsworkspace/CVWO/winter-session-assignment/frontend/src/components/LoginForm.js"],"names":["React","ChangeEvent","useState","Typewriter","Button","Link","axios","Cookies","useHistory","LoginForm","Component","constructor","props","guest_login","post","body","state","profile","username","password","headers","then","response","data","alert","localStorage","setItem","window","location","href","catch","error","onSubmit","e","preventDefault","instance","create","baseURL","timeout","text","handleUsernameChange","bind","handlePasswordChange","setState","target","value","render"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, useState } from 'react';\nimport Typewriter from 'typewriter-effect';\nimport { Button } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport Cookies from 'universal-cookie';\nimport { useHistory } from \"react-router-dom\";\n\nclass LoginForm extends React.Component {\n   constructor(props) {\n        super(props);\n        this.state = {\n            profile: {}\n        }\n        this.handleUsernameChange = this.handleUsernameChange.bind(this);\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    }\n\n    handleUsernameChange(e){\n        this.setState( (state, props) => {\n            let profile = state.profile;\n            profile.username = e.target.value;\n            return {profile: profile}\n        });\n    }\n\n    handlePasswordChange(e){\n        this.setState( (state, props) => {\n            let profile = state.profile;\n            profile.password = e.target.value;\n            return {profile: profile}\n        });\n    }\n\n    guest_login = () => {\n        axios.post('http://localhost:8080/login', { body: this.state.profile.username+\",\"+this.state.profile.password }, {headers:{'Content-Type': 'text/plain'}})\n            .then(function(response) {\n                if (response.data===\"Invalid credentials\"){\n                    alert(\"Username or password is incorrect\");\n                }\n                else if (response.data===\"User does not exist\"){\n                    alert(\"User is not registered\")\n                }\n                else {\n                    localStorage.setItem('ssid', response.data);\n                    window.location.href=\"/view_month\";\n                }\n            })\n            .catch(function(error) {\n            });\n    };\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        const instance = axios.create({\n            baseURL: 'https://localhost:8080/login',\n            timeout: 1000,\n            headers: {'Content-Type': 'text/plain'},\n            body: this.state.profile.username+','+this.state.profile.password\n        });\n        const response= axios.text();\n        if (response===\"Invalid credentials\"){\n            alert(\"Username or password is incorrect\");\n        }\n        else if (response===\"User does not exist\"){\n            alert(\"User is not registered\")\n        }\n        else {\n            localStorage.setItem('ssid', response);\n            window.location.href(\"/view_month\")\n        }\n\n    }\n\n    render() {\n      return (\n            <div id=\"loginForm\">\n            <form onSubmit={(e) => this.onSubmit(e)}>\n                <label for=\"username\"> Username </label>\n                <input type=\"text\" id=\"username\" name=\"Username\" placeholder=\"Enter username\" \n                value={this.state.profile.username}\n                onChange={this.handleUsernameChange} />\n            \n                <br/><br/>\n\n                <label for=\"password\"> Password </label>\n                <input type=\"text\" id=\"password\" name=\"Password\" placeholder=\"Enter password\"\n                value={this.state.profile.password}\n                onChange={this.handlePasswordChange} />\n\n                <br/><br/>\n\n                <input type=\"submit\" value=\"Submit\" />\n            </form>\n            </div>\n        )\n    }\n}\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}